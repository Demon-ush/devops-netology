# Домашнее задание к занятию "6.1. Типы и структура СУБД"


## Pадача 1
Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.
Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:
 Электронные чеки в json виде
 Склады и автомобильные дороги для логистической компании
 Генеалогические деревья
 Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
 Отношения клиент-покупка для интернет-магазина
Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

### Ответ:
```
 Электронные чеки в json виде – документо-ориентированная. Классика. Типичный вариант – MongoDB, Apache CouchDB
 Склады и автомобильные дороги для логистической компании – графовая (склады – объекты, дороги – связи) или сетевая с тем же принципом.
 Генеалогические деревья – иерархическая (один корень, много потомков)
 Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации – классика «ключ-значение»
 Отношения клиент-покупка для интернет-магазина – мало вводных, но с предположением, что описание – это только часть задачи, однозначно реляционная (все финансы только в реляционных БД).

```

## Задача 2
Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):
 Данные записываются на все узлы с задержкой до часа (асинхронная запись)
 При сетевых сбоях, система может разделиться на 2 раздельных кластера
 Система может не прислать корректный ответ или сбросить соединение
А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

### Ответ:
```
                               Описание                                    |   CAP   |  PACELC  |
---------------------------------------------------------------------------|---------|----------|
- Данные записываются на все узлы с задержкой до часа (асинхронная запись) |    CA   |   PC/EC  |
- При сетевых сбоях, система может разделиться на 2 раздельных кластера    |    AP   |   PA/EL  |
- Система может не прислать корректный ответ или сбросить соединение       |    CP   |   PA/EC  |
-------------------------------------------------------------------------------------------------

```

## Задача 3
Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

### Ответ:
```
До определённого момента не могли из-за разницы подходов. 
В настоящий момент с развитием технологий наметилось движение к слиянию, или, по крайней мере, к использованию, обоих принципов. Примерами могут служить H-Store, VoltDB, проект DORA.

```

## Задача 4
Вам дали задачу написать системное решение, основой которого бы послужили:
 фиксация некоторых значений с временем жизни
 реакция на истечение таймаута
Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора данной системы?

### Ответ:
```
Недостаточно исходных данных. 
По заданным критериям и с учётом материалов лекции – Redis.
Минусы для задачи:
 фиксация некоторых значений с временем жизни – потребуется задавать параметр каждый раз при создании или перезаписи значения ключа 
 реакция на истечение таймаута – потребуется выполнять доп проверки времени жизни параметра
Минусы общие:
 Размер БД ограничен доступной памятью, следовательно, высокие требования к аппаратной части.
шардинг ведет к увеличению задержек.
 Потеря данных (после последней записи на диск) при отказе сервера
 NoSQL - нет языка SQL, следовательно, проблемы с оперативным поиском данных.
в качестве альтернативы LUA скриптинг. 
 Это нереляционная СУБД
 Нет деления на пользователей или группы пользователей. Отсутствует контроль доступа
доступ по общему паролю, следовательно, потенциальные проблемы с безопасностью.

```


